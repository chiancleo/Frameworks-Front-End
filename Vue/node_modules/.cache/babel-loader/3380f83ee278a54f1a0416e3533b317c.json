{"remainingRequest":"/home/chianc/Documentos/Biblioteca/vue/node_modules/babel-loader/lib/index.js!/home/chianc/Documentos/Biblioteca/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/chianc/Documentos/Biblioteca/vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/chianc/Documentos/Biblioteca/vue/src/components/LivroForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/chianc/Documentos/Biblioteca/vue/src/components/LivroForm.vue","mtime":1605982866000},{"path":"/home/chianc/Documentos/Biblioteca/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chianc/Documentos/Biblioteca/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/chianc/Documentos/Biblioteca/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chianc/Documentos/Biblioteca/vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb21lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBJbnB1dCBmcm9tICcuL0lucHV0LnZ1ZSc7CmltcG9ydCByZXF1aXJlZFZhbGlkYXRpb24gZnJvbSAnLi92YWxpZGF0aW9ucyc7CnZhciB2YWxpZGF0ZSA9IHsKICBzdGF0ZW1lbnQ6IHJlcXVpcmVkVmFsaWRhdGlvbiwKICBpbWFnZW06IHJlcXVpcmVkVmFsaWRhdGlvbiwKICBhdXRvcjogcmVxdWlyZWRWYWxpZGF0aW9uCn07CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBJbnB1dDogSW5wdXQKICB9LAogIHByb3BzOiBbJ2xpdnJvJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfcmVmID0gdGhpcy5saXZybyB8fCB7fSwKICAgICAgICBzdGF0ZW1lbnQgPSBfcmVmLnN0YXRlbWVudCwKICAgICAgICBpbWFnZW0gPSBfcmVmLmltYWdlbSwKICAgICAgICBhdXRvciA9IF9yZWYuYXV0b3IsCiAgICAgICAgZGVzY3JpY2FvID0gX3JlZi5kZXNjcmljYW87CgogICAgcmV0dXJuIHsKICAgICAgYm9vazogewogICAgICAgIHN0YXRlbWVudDogc3RhdGVtZW50LAogICAgICAgIGltYWdlbTogaW1hZ2VtLAogICAgICAgIGF1dG9yOiBhdXRvciwKICAgICAgICBkZXNjcmljYW86IGRlc2NyaWNhbwogICAgICB9LAogICAgICBlcnJvcnM6IHt9LAogICAgICB0b3VjaGVkOiB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrRmllbGQ6IGZ1bmN0aW9uIGNoZWNrRmllbGQobmFtZSkgewogICAgICB2YXIgdmFsdWUgPSB0aGlzLmJvb2tbbmFtZV07CiAgICAgIHZhciBlcnJvciA9IHZhbGlkYXRlW25hbWVdID8gdmFsaWRhdGVbbmFtZV0odmFsdWUpIDogbnVsbDsKICAgICAgdmFyIG5hbWVFcnJvciA9IHRoaXMudG91Y2hlZFtuYW1lXSA/IGVycm9yIDogbnVsbDsKICAgICAgdGhpcy5lcnJvcnNbbmFtZV0gPSBuYW1lRXJyb3I7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgT2JqZWN0LmtleXModGhpcy5ib29rKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgIF90aGlzLnRvdWNoZWRbZmllbGRdID0gdHJ1ZTsKCiAgICAgICAgX3RoaXMuY2hlY2tGaWVsZChmaWVsZCk7CiAgICAgIH0pOwogICAgICB2YXIgZXJyb3JzSXNFbXB0eSA9ICFPYmplY3QudmFsdWVzKHRoaXMuZXJyb3JzKS5zb21lKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHY7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyhlcnJvcnNJc0VtcHR5KTsKCiAgICAgIGlmIChlcnJvcnNJc0VtcHR5KSB7CiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlJywgewogICAgICAgICAgc3RhdGVtZW50OiB0aGlzLmJvb2suc3RhdGVtZW50LAogICAgICAgICAgaW1hZ2VtOiB0aGlzLmJvb2suaW1hZ2VtLAogICAgICAgICAgYXV0b3I6IHRoaXMuYm9vay5hdXRvciwKICAgICAgICAgIGRlc2NyaWNhbzogdGhpcy5ib29rLmRlc2NyaWNhbwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/chianc/Documentos/Biblioteca/vue/src/components/LivroForm.vue"],"names":[],"mappings":";;;;;AA8CA,OAAO,KAAP,MAAkB,aAAlB;AACA,OAAO,kBAAP,MAA+B,eAA/B;AAEA,IAAM,QAAO,GAAI;AACf,EAAA,SAAS,EAAE,kBADI;AAEf,EAAA,MAAM,EAAE,kBAFO;AAGf,EAAA,KAAK,EAAE;AAHQ,CAAjB;AAMA,eAAe;AACb,EAAA,UAAU,EAAE;AAAE,IAAA,KAAI,EAAJ;AAAF,GADC;AAEb,EAAA,KAAK,EAAE,CAAC,OAAD,CAFM;AAGb,EAAA,IAHa,kBAGL;AAAA,eAC0C,KAAK,KAAL,IAAc,EADxD;AAAA,QACE,SADF,QACE,SADF;AAAA,QACa,MADb,QACa,MADb;AAAA,QACqB,KADrB,QACqB,KADrB;AAAA,QAC4B,SAD5B,QAC4B,SAD5B;;AAEN,WAAO;AACL,MAAA,IAAI,EAAE;AAAE,QAAA,SAAS,EAAT,SAAF;AAAa,QAAA,MAAM,EAAN,MAAb;AAAqB,QAAA,KAAK,EAAL,KAArB;AAA4B,QAAA,SAAQ,EAAR;AAA5B,OADD;AAEL,MAAA,MAAM,EAAE,EAFH;AAGL,MAAA,OAAO,EAAE;AAHJ,KAAP;AAKD,GAVY;AAWb,EAAA,OAAO,EAAE;AACP,IAAA,UADO,sBACK,IADL,EACW;AAChB,UAAM,KAAI,GAAI,KAAK,IAAL,CAAU,IAAV,CAAd;AACA,UAAM,KAAI,GAAI,QAAQ,CAAC,IAAD,CAAR,GAAiB,QAAQ,CAAC,IAAD,CAAR,CAAe,KAAf,CAAjB,GAAyC,IAAvD;AACA,UAAM,SAAQ,GAAI,KAAK,OAAL,CAAa,IAAb,IAAqB,KAArB,GAA6B,IAA/C;AACA,WAAK,MAAL,CAAY,IAAZ,IAAoB,SAApB;AACD,KANM;AAOP,IAAA,QAPO,sBAOK;AAAA;;AACV,MAAA,MAAM,CAAC,IAAP,CAAY,KAAK,IAAjB,EAAuB,OAAvB,CAA+B,UAAC,KAAD,EAAW;AACxC,QAAA,KAAI,CAAC,OAAL,CAAa,KAAb,IAAsB,IAAtB;;AACA,QAAA,KAAI,CAAC,UAAL,CAAgB,KAAhB;AACD,OAHD;AAIA,UAAM,aAAY,GAAI,CAAC,MAAM,CAAC,MAAP,CAAc,KAAK,MAAnB,EAA2B,IAA3B,CAAgC,UAAC,CAAD;AAAA,eAAO,CAAP;AAAA,OAAhC,CAAvB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,aAAZ;;AACA,UAAI,aAAJ,EAAmB;AACjB,aAAK,KAAL,CAAW,QAAX,EAAqB;AACnB,UAAA,SAAS,EAAE,KAAK,IAAL,CAAU,SADF;AAEnB,UAAA,MAAM,EAAE,KAAK,IAAL,CAAU,MAFC;AAGnB,UAAA,KAAK,EAAE,KAAK,IAAL,CAAU,KAHE;AAInB,UAAA,SAAS,EAAE,KAAK,IAAL,CAAU;AAJF,SAArB;AAMF;AACF;AAtBO;AAXI,CAAf","sourcesContent":["<template>\n  <form @submit.prevent=\"onSubmit\">\n    <h2>Cadastrar E-books</h2>\n    <Input\n      label=\"Título\"\n      v-model=\"book.statement\"\n      placeholder=\"Digite o título do livro\"\n      isRequired=\"true\"\n      :error=\"errors['statement']\"\n      @input=\"touched['statement'] = true\"\n      @blur=\"checkField('statement')\"\n    />\n    <Input\n      label=\"Autor\"\n      v-model=\"book.autor\"\n      placeholder=\"Digite o autor do livro\"\n      isRequired=\"true\"\n      :error=\"errors['autor']\"\n      @input=\"touched['autor'] = true\"\n      @blur=\"checkField('autor')\"\n    />\n    <Input\n      type=\"textarea\"\n      label=\"Descrição\"\n      v-model=\"book.descricao\"\n      placeholder=\"Digite a descrição da obra\"\n      :error=\"errors['descricao']\"\n      @input=\"touched['descricao'] = true\"\n      @blur=\"checkField('descricao')\"\n    />\n    <Input\n      type=\"textarea\"\n      label=\"Link\"\n      v-model=\"book.imagem\"\n      placeholder=\"Inserir link para download\"\n      isRequired=\"true\"\n      :error=\"errors['imagem']\"\n      @input=\"touched['imagem'] = true\"\n      @blur=\"checkField('imagem')\"\n    />\n    <input type=\"submit\" value=\"Cadastrar\" />\n    <button @click=\"$emit('cancel')\" type=\"button\">Cancelar</button>\n  </form>\n</template>\n\n<script>\nimport Input from './Input.vue'\nimport requiredValidation from './validations'\n\nconst validate = {\n  statement: requiredValidation,\n  imagem: requiredValidation,\n  autor: requiredValidation\n}\n\nexport default {\n  components: { Input },\n  props: ['livro'],\n  data () {\n    const { statement, imagem, autor, descricao } = this.livro || {}\n    return {\n      book: { statement, imagem, autor, descricao },\n      errors: {},\n      touched: {}\n    }\n  },\n  methods: {\n    checkField (name) {\n      const value = this.book[name]\n      const error = validate[name] ? validate[name](value) : null\n      const nameError = this.touched[name] ? error : null\n      this.errors[name] = nameError\n    },\n    onSubmit () {\n      Object.keys(this.book).forEach((field) => {\n        this.touched[field] = true\n        this.checkField(field)\n      })\n      const errorsIsEmpty = !Object.values(this.errors).some((v) => v)\n      console.log(errorsIsEmpty)\n      if (errorsIsEmpty) {\n        this.$emit('update', {\n          statement: this.book.statement,\n          imagem: this.book.imagem,\n          autor: this.book.autor,\n          descricao: this.book.descricao\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.form-item {\n  display: flex;\n  margin-bottom: 1.7rem;\n}\n</style>\n"],"sourceRoot":""}]}