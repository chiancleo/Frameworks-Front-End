{"remainingRequest":"/home/chianc/Documentos/Biblioteca/vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/chianc/Documentos/Biblioteca/vue/src/components/LivroForm.vue?vue&type=style&index=0&id=6f3fdf7a&scoped=true&lang=css","dependencies":[{"path":"/home/chianc/Documentos/Biblioteca/vue/src/components/LivroForm.vue","mtime":1605982866000},{"path":"/home/chianc/Documentos/Biblioteca/vue/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chianc/Documentos/Biblioteca/vue/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/home/chianc/Documentos/Biblioteca/vue/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/chianc/Documentos/Biblioteca/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chianc/Documentos/Biblioteca/vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5mb3JtLWl0ZW0gewogIGRpc3BsYXk6IGZsZXg7CiAgbWFyZ2luLWJvdHRvbTogMS43cmVtOwp9Cg=="},{"version":3,"sources":["/home/chianc/Documentos/Biblioteca/vue/src/components/LivroForm.vue"],"names":[],"mappings":";AA8FA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvB","file":"/home/chianc/Documentos/Biblioteca/vue/src/components/LivroForm.vue","sourceRoot":"","sourcesContent":["<template>\n  <form @submit.prevent=\"onSubmit\">\n    <h2>Cadastrar E-books</h2>\n    <Input\n      label=\"Título\"\n      v-model=\"book.statement\"\n      placeholder=\"Digite o título do livro\"\n      isRequired=\"true\"\n      :error=\"errors['statement']\"\n      @input=\"touched['statement'] = true\"\n      @blur=\"checkField('statement')\"\n    />\n    <Input\n      label=\"Autor\"\n      v-model=\"book.autor\"\n      placeholder=\"Digite o autor do livro\"\n      isRequired=\"true\"\n      :error=\"errors['autor']\"\n      @input=\"touched['autor'] = true\"\n      @blur=\"checkField('autor')\"\n    />\n    <Input\n      type=\"textarea\"\n      label=\"Descrição\"\n      v-model=\"book.descricao\"\n      placeholder=\"Digite a descrição da obra\"\n      :error=\"errors['descricao']\"\n      @input=\"touched['descricao'] = true\"\n      @blur=\"checkField('descricao')\"\n    />\n    <Input\n      type=\"textarea\"\n      label=\"Link\"\n      v-model=\"book.imagem\"\n      placeholder=\"Inserir link para download\"\n      isRequired=\"true\"\n      :error=\"errors['imagem']\"\n      @input=\"touched['imagem'] = true\"\n      @blur=\"checkField('imagem')\"\n    />\n    <input type=\"submit\" value=\"Cadastrar\" />\n    <button @click=\"$emit('cancel')\" type=\"button\">Cancelar</button>\n  </form>\n</template>\n\n<script>\nimport Input from './Input.vue'\nimport requiredValidation from './validations'\n\nconst validate = {\n  statement: requiredValidation,\n  imagem: requiredValidation,\n  autor: requiredValidation\n}\n\nexport default {\n  components: { Input },\n  props: ['livro'],\n  data () {\n    const { statement, imagem, autor, descricao } = this.livro || {}\n    return {\n      book: { statement, imagem, autor, descricao },\n      errors: {},\n      touched: {}\n    }\n  },\n  methods: {\n    checkField (name) {\n      const value = this.book[name]\n      const error = validate[name] ? validate[name](value) : null\n      const nameError = this.touched[name] ? error : null\n      this.errors[name] = nameError\n    },\n    onSubmit () {\n      Object.keys(this.book).forEach((field) => {\n        this.touched[field] = true\n        this.checkField(field)\n      })\n      const errorsIsEmpty = !Object.values(this.errors).some((v) => v)\n      console.log(errorsIsEmpty)\n      if (errorsIsEmpty) {\n        this.$emit('update', {\n          statement: this.book.statement,\n          imagem: this.book.imagem,\n          autor: this.book.autor,\n          descricao: this.book.descricao\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.form-item {\n  display: flex;\n  margin-bottom: 1.7rem;\n}\n</style>\n"]}]}